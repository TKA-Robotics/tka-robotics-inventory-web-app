@model DotNetCoreSqlDb.Models.Inventory

@{
    ViewData["Title"] = "Barcode Edit";
}

<script>


    function inputChanged() {
        var quantity = document.getElementById("quantity");
        var input = document.getElementById("number_input");
        var total = document.getElementById("total");
        var total_value = 0;

        total_value = parseInt(quantity.innerText);
        total_value += parseInt(input.value);
        total.value = total_value;
    }
</script>

<h1>Details</h1>

<div>
    <h4>Inventory</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.PartName)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.PartName)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.SKU)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.SKU)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.PartType)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.PartType)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Quantity)
        </dt>
        <dd class="col-sm-10" id="quantity">
            @Html.DisplayFor(model => model.Quantity)
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Barcode)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Barcode)
        </dd>
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.ID">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
<hr />
<div class="col-md-4">
    <form asp-action="BarcodeEdit">
        <input type="hidden" asp-for="ID" />
        <input type="hidden" asp-for="PartName" />
        <input type="hidden" asp-for="SKU" />
        <input type="hidden" asp-for="PartType" />

        <div class="form-group">
            <label>Add/Subtract amount</label>
            <input type="number" step="1" value="0" id="number_input" oninput="inputChanged()" class="form-control">
            <span class="text-danger"></span>
        </div>
        <div class="form-group">
            <label>New quantity</label>
            <input asp-for="Quantity" class="form-control" id="total" readonly />
            <span asp-validation-for="Quantity" class="text-danger"></span>
        </div>

        <input type="hidden" asp-for="MinimumQuantity" />
        <input type="hidden" asp-for="UnitCost" />
        <input type="hidden" asp-for="Location" />
        <input type="hidden" asp-for="Status" />
        <input type="hidden" asp-for="Barcode" />

        <div class="form-group">
            <input type="submit" value="Save" class="btn btn-primary" />
        </div>
    </form>
</div>
